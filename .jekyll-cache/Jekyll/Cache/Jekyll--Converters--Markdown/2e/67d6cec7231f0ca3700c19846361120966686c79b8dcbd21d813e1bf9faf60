I"÷<p><em>ëª¨ë“  ë‚´ìš©ì€ MacOS Catalina ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤</em></p>

<p><strong>await, async, _, args ë“± JavaScriptë‚´ìš©ì€ ë”°ë¡œ ì •ë¦¬í•˜ê² ìŠµë‹ˆë‹¤.</strong></p>

<h2 id="1-createaccount-ì‹œìŠ¤í…œ-ë§Œë“¤ê¸°">1. createAccount ì‹œìŠ¤í…œ ë§Œë“¤ê¸°</h2>

<p>ë³¸ê²©ì ìœ¼ë¡œ ë°±ì—”ë“œì˜ ê¸°ëŠ¥ë“¤ì„ êµ¬í˜„í•´ë´…ì‹œë‹¤.</p>

<ul>
  <li>Userí´ë”ë¥¼ ë§Œë“¤ê³  ê·¸ ì•ˆì— createAccount í´ë”ë¥¼ ë§Œë“­ë‹ˆë‹¤.</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>api/User/createAccount/.graphql &amp; .js
</code></pre></div></div>

<ul>
  <li>createAccount.graphqlíŒŒì¼ì—ëŠ” ê³„ì •ì„ ë§Œë“¤ ìˆ˜ ìˆëŠ” mutation typeì„ ì‘ì„±í•©ë‹ˆë‹¤.</li>
</ul>

<div class="language-graphql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">type</span><span class="w"> </span><span class="n">Mutation</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">createAccount</span><span class="p">(</span><span class="w">
    </span><span class="n">username</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="p">!</span><span class="w">
    </span><span class="n">email</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="p">!</span><span class="w">
    </span><span class="n">firstName</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="w">
    </span><span class="n">lastName</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="w">
    </span><span class="n">bio</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="w">
  </span><span class="p">):</span><span class="w"> </span><span class="n">User</span><span class="p">!</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>ì‚¬ìš©ììƒì„±ì„ ìœ„í•œ ì •ë³´ë“¤ì…ë‹ˆë‹¤. ì´ë•Œ, í•„ìš”í•œ ì •ë³´ë“¤ì€ endpointì—ì„œ docs -&gt; createUserë¥¼ ê²€ìƒ‰í•˜ë©´ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p><img src="/assets/2020-03-27-prismagram-6/endpoint-1.png" alt="endpoint1" /></p>

<ul>
  <li>ì´ì–´ì„œ createAccount.js íŒŒì¼ì„ ë§Œë“¤ê³  asyncí•¨ìˆ˜ë¡œ createAccount í•¨ìˆ˜ë¥¼ ë§Œë“­ë‹ˆë‹¤. ì´ë•Œ ì²« ë²ˆì§¸ ì¸ìëŠ” í•„ìš”ì—†ê³  argsëŠ” í•„ìš”í•©ë‹ˆë‹¤.</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">prisma</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">../../../../generated/prisma-client</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="na">Mutation</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">createAccount</span><span class="p">:</span> <span class="k">async</span> <span class="p">(</span><span class="nx">_</span><span class="p">,</span> <span class="nx">args</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="p">{</span> <span class="nx">username</span><span class="p">,</span> <span class="nx">email</span><span class="p">,</span> <span class="nx">firstName</span> <span class="o">=</span> <span class="dl">""</span><span class="p">,</span> <span class="nx">lastName</span> <span class="o">=</span> <span class="dl">""</span><span class="p">,</span> <span class="nx">bio</span> <span class="o">=</span> <span class="dl">""</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">args</span><span class="p">;</span>
      <span class="kd">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">prisma</span><span class="p">.</span><span class="nx">createUser</span><span class="p">({</span>
        <span class="nx">username</span><span class="p">,</span>
        <span class="nx">email</span><span class="p">,</span>
        <span class="nx">firstName</span><span class="p">,</span>
        <span class="nx">lastName</span><span class="p">,</span>
        <span class="nx">bio</span>
      <span class="p">});</span>
      <span class="k">return</span> <span class="nx">user</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<p>firstName, lastName, bioëŠ” - â€œâ€œë¡œ ë˜ì–´ìˆëŠ”ë°, ê·¸ ì´ìœ ëŠ” í•„ìˆ˜ë¡œ ì…ë ¥ë˜ëŠ” í•­ëª©ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ë¹ˆ ë¬¸ìì—´ì„ ê¸°ë³¸ìœ¼ë¡œ ì„ ì–¸í•˜ì—¬ nullê³¼ ê°™ì€ ì´ìƒí•œ íƒ€ì…ì´ ë“¤ì–´ì˜¤ì§€ ì•Šë„ë¡ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>

<h2 id="2-account-ë§Œë“¤ì–´ë³´ê¸°">2. Account ë§Œë“¤ì–´ë³´ê¸°</h2>

<p>createAccountë¥¼ ë§Œë“¤ì—ˆìœ¼ë©´ yarn devë¥¼ í•´ì„œ ìƒì„±ëœ localhostì— ì ‘ì†í•˜ì—¬ mutation createAccountë¥¼ ì‹¤í–‰ì‹œê²¨ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p><img src="/assets/2020-03-27-prismagram-6/createAccount-1.png" alt="createAccount" /></p>

<p>??!! ì—ëŸ¬ê°€ ë‚˜ì˜µë‹ˆë‹¤.</p>

<h2 id="2-í…ŒìŠ¤íŠ¸ìš©-ê³„ì •-ë§Œë“¤ê¸°">2. í…ŒìŠ¤íŠ¸ìš© ê³„ì • ë§Œë“¤ê¸°</h2>

<p>ì‚¬ì§„ì—…ë¡œë“œ, ì¢‹ì•„ìš”, ëŒ“ê¸€ë‹¬ê¸° ë“± ì—¬ë ¤ ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸ í•  ê³„ì •ì„ prisma ì–´ë“œë¯¼ì—ì„œ ë§Œë“­ë‹ˆë‹¤.</p>

<p><img src="/assets/2020-03-27-prismagram-6/admin-1.png" alt="Admin1" /></p>

<p>ì–´ë“œë¯¼ì°½ì—ì„œ + ë²„íŠ¼ì„ ëˆŒëŸ¬ ê³„ì •ì„ í•˜ë‚˜ ìƒì„±í•©ë‹ˆë‹¤.</p>

<p><img src="/assets/2020-03-27-prismagram-6/admin-2.png" alt="Admin2" /></p>

<p>api/Image í´ë”ë¥¼ ë§Œë“­ë‹ˆë‹¤.</p>

<p>Image/toogleLikeë¼ëŠ” í´ë”ë¥¼ ë§Œë“¤ì–´ ì´ë¯¸ ì¢‹ì•„ìš”ê°€ ë˜ì–´ìˆìœ¼ë©´ ì·¨ì†Œë¡œ ì•„ì´ì½˜ì´ ë°”ë€Œê²Œë” í•˜ê² ìŠµë‹ˆë‹¤.</p>

<h2 id="ì´ìŠˆ">ì´ìŠˆ</h2>

<ul>
  <li>ëª¨ë“  resolversê°€ ì§€ì›Œì§€ë©´ ìë™ìœ¼ë¡œ prismaê°€ importë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br />
ë”°ë¼ì„œ ì²« ë²ˆì§¸ resolversëŠ” ì§ì ‘ prismaë¥¼ import ì‹œì¼œì¤˜ì•¼ í•©ë‹ˆë‹¤.</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">prisma</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">../../../../generated/prisma-client</span><span class="dl">"</span><span class="p">;</span>
</code></pre></div></div>

<ul>
  <li>graphqlíŒŒì¼ì— queryê°€ ì—†ëŠ”ê²½ìš° ì—ëŸ¬ê°€ ìƒê¸°ê¸° ë•Œë¬¸ì— ê¼­! type Queryë¥¼ ì¶”ê°€ì‹œì¼œì•¼ í•©ë‹ˆë‹¤.</li>
</ul>

<div class="language-graphql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">type</span><span class="w"> </span><span class="n">Mutation</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">createAccount</span><span class="p">(</span><span class="w">
    </span><span class="n">username</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="p">!</span><span class="w">
    </span><span class="n">email</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="p">!</span><span class="w">
    </span><span class="n">firstName</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="w">
    </span><span class="n">lastName</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="w">
    </span><span class="n">bio</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="w">
  </span><span class="p">):</span><span class="w"> </span><span class="n">User</span><span class="p">!</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="k">type</span><span class="w"> </span><span class="n">Query</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">something</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="p">!</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
:ET