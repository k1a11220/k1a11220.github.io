I"û<p><em>ëª¨ë“  ë‚´ìš©ì€ MacOS Catalina ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤</em></p>

<h2 id="1-prisma-client">1. Prisma client</h2>

<p>Prismaì™€ apië¥¼ ì—°ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” Prisma clientê°€ í•„ìš”í•©ë‹ˆë‹¤.<br />
ì˜ˆë¥¼ë“¤ë©´ ì˜í™” apiì²˜ëŸ¼ Prismaì—ì„œ ì •ì˜í•œ ë°ì´í„°ë¥¼ ì‰½ê²Œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.</p>

<h2 id="2-ìŠ¤í¬ë¦½íŠ¸-ì¶”ê°€">2. ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€</h2>

<p>package.jsonì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">"</span><span class="s2">deploy</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">yarn prisma deploy</span><span class="dl">"</span><span class="p">,</span>
<span class="dl">"</span><span class="s2">generate</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">yarn prisma generate</span><span class="dl">"</span><span class="p">,</span>
<span class="dl">"</span><span class="s2">do</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">yarn run deploy &amp;&amp; yarn run generate</span><span class="dl">"</span><span class="p">,</span>
<span class="dl">"</span><span class="s2">dev</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">nodemon --exec babel-node src/server.jsâ€
</span></code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">type</span> <span class="nx">User</span> <span class="p">{</span>
    <span class="nl">Id</span><span class="p">:</span> <span class="nx">ID</span><span class="o">!</span> <span class="p">@</span><span class="nd">id</span>
    <span class="nx">Name</span><span class="p">:</span> <span class="nb">String</span><span class="o">!</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ê¸°ë³¸ì ìœ¼ë¡œ Userê°€ ìƒì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.<br />
ë§Œì•½, ì—¬ê¸°ì— ì¸ìŠ¤íƒ€ê·¸ë¨ì²˜ëŸ¼ followingê³¼ follwersë¥¼ ë§Œë“¤ë ¤ê³  í•œë‹¤ë©´ ì•„ë˜ì²˜ëŸ¼ ë§Œë“¤ë©´ ëœë‹¤.</p>

<div class="language-graphql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">type</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="nb">ID</span><span class="p">!</span><span class="w"> </span><span class="err">@</span><span class="n">id</span><span class="w">
  </span><span class="n">following</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="n">User</span><span class="p">!]!</span><span class="w"> </span><span class="err">@</span><span class="n">relation</span><span class="p">(</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="err">"</span><span class="n">FollowRelation</span><span class="err">"</span><span class="p">)</span><span class="w">
  </span><span class="n">followers</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="n">User</span><span class="p">!]!</span><span class="w"> </span><span class="err">@</span><span class="n">relation</span><span class="p">(</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="err">"</span><span class="n">FollowRelation</span><span class="err">"</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>ì´ë•Œ @relationì´ë€ ë§ ê·¸ëŒ€ë¡œ ì—°ê´€ë˜ì–´ ìˆëŠ” Dataì…ë‹ˆë‹¤. ì´ëŠ” ë‚˜ì¤‘ì— Prisma í”„ë¡œì íŠ¸ë¥¼ í†µí•´ ë”°ë¡œ ì •ë¦¬í•˜ê² ìŠµë‹ˆë‹¤.</p>

<h2 id="ì´ìŠˆ">ì´ìŠˆ</h2>

<p>ì•„ë˜ì²˜ëŸ¼ Datamodel ì‘ì„±ì‹œ typeë§ˆë‹¤ idë¥¼ ë¶€ì—¬í•˜ì§€ ì•Šì•„ì„œ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.</p>

<div class="language-graphql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">type</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">Id</span><span class="p">:</span><span class="w"> </span><span class="nb">ID</span><span class="p">!</span><span class="w"> </span><span class="err">@</span><span class="n">id</span><span class="w">
    </span><span class="n">Name</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="p">!</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="k">type</span><span class="w"> </span><span class="n">Comment</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">user</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">User</span><span class="p">!</span><span class="w">
    </span><span class="n">text</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="p">!</span><span class="w">
    </span><span class="n">post</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Post</span><span class="p">!</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>ë”°ë¼ì„œ ëª¨ë“  typeì— idë¥¼ ì¶”ê°€í•˜ì—¬ ì—ëŸ¬ë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-graphql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">type</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">Id</span><span class="p">:</span><span class="w"> </span><span class="nb">ID</span><span class="p">!</span><span class="w"> </span><span class="err">@</span><span class="n">id</span><span class="w">
    </span><span class="n">Name</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="p">!</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="k">type</span><span class="w"> </span><span class="n">Comment</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">Id</span><span class="p">:</span><span class="w"> </span><span class="nb">ID</span><span class="p">!</span><span class="w"> </span><span class="err">@</span><span class="n">id</span><span class="w">
    </span><span class="n">user</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">User</span><span class="p">!</span><span class="w">
    </span><span class="n">text</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="p">!</span><span class="w">
    </span><span class="n">post</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Post</span><span class="p">!</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
:ET