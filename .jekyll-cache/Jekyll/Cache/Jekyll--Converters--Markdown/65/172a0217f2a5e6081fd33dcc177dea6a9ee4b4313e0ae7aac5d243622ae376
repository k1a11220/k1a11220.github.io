I"Ò<p><em>ëª¨ë“  ë‚´ìš©ì€ MacOS Catalina ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤</em></p>

<h3 id="1-morgan-ì„¤ì¹˜í•˜ê¸°">1. morgan ì„¤ì¹˜í•˜ê¸°</h3>

<ul>
  <li>logging moduleì¸ morganì„ ì¶”ê°€.
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn add morgan
</code></pre></div>    </div>
  </li>
  <li>server.jsì— morgan ì¶”ê°€.
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">logger</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">morgan</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">server</span><span class="p">.</span><span class="nx">express</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">logger</span><span class="p">(</span><span class="dl">"</span><span class="s2">dev</span><span class="dl">"</span><span class="p">));</span>
</code></pre></div>    </div>
  </li>
  <li>morganì„ ì¶”ê°€í•˜ë©´ consoleì— ë‹¤ìŒê³¼ ê°™ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ í¬íŠ¸ê°€ ì¶œë ¥ëœë‹¤.
    <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">POST</span> <span class="o">/</span> <span class="mi">200</span> <span class="mi">121</span><span class="p">.</span><span class="mo">032</span> <span class="n">ms</span> <span class="o">-</span> <span class="mi">25787</span>
<span class="n">POST</span> <span class="o">/</span> <span class="mi">200</span> <span class="mi">22</span><span class="p">.</span><span class="mi">315</span> <span class="n">ms</span> <span class="o">-</span> <span class="mi">25787</span>
<span class="n">GET</span> <span class="o">/</span> <span class="mi">200</span> <span class="mi">0</span><span class="p">.</span><span class="mi">159</span> <span class="n">ms</span> <span class="o">-</span> <span class="o">-</span>
<span class="n">POST</span> <span class="o">/</span> <span class="mi">200</span> <span class="mi">17</span><span class="p">.</span><span class="mi">741</span> <span class="n">ms</span> <span class="o">-</span> <span class="mi">25787</span>
<span class="n">POST</span> <span class="o">/</span> <span class="mi">200</span> <span class="mi">7</span><span class="p">.</span><span class="mi">500</span> <span class="n">ms</span> <span class="o">-</span> <span class="mi">25786</span>
<span class="n">POST</span> <span class="o">/</span> <span class="mi">200</span> <span class="mi">6</span><span class="p">.</span><span class="mi">661</span> <span class="n">ms</span> <span class="o">-</span> <span class="mi">25786</span>
<span class="n">GET</span> <span class="o">/</span> <span class="mi">200</span> <span class="mi">0</span><span class="p">.</span><span class="mi">104</span> <span class="n">ms</span> <span class="o">-</span> <span class="o">-</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>morganì€ logging module ì´ë‹¤. graphql ì„œë²„ì—ëŠ” express ì„œë²„ê°€ ë‚´ì¥ë˜ì–´ ìˆë‹¤.</p>

<p>ì´ë•Œ ëª¨ë“  íŒŒì¼ì€ schema.jsì—ì„œ í•©ì¹œë‹¤. apií´ë”ì— í•„ìš”í•œ graphql, resolversíŒŒì¼ì„ ì¶”ê°€í•˜ì—¬ êµ¬ì¡°ë¥¼ ì§ ë‹¤.</p>

<h3 id="2-merge-ì—-í•„ìš”í•œ-ë¼ì´ë¸ŒëŸ¬ë¦¬-ì„¤ì¹˜">2. merge ì— í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn add graphql-tools merge-graphql-schemas
</code></pre></div></div>

<p>import path from â€˜pathâ€™;
import {makeExecutableSchema} from â€˜graphql-toolsâ€™;
import {fileLoader , mergeResolvers,mergeTypes} from â€˜merge-graphql-schemasâ€™;
fileLoader : ì¸ìë¡œ pathë¥¼ ë°›ì•„ íŒŒì¼ì„ loadí•´ì¤ë‹ˆë‹¤.
path.join : í•´ë‹¹ ê²½ë¡œì˜ íŒŒì¼ë“¤ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
makeExecutabelSchema : type, resolverë¥¼ schema í˜•íƒœë¡œ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤.</p>
<ul>
  <li>graphql-yoga</li>
</ul>

<figure class="highlight"><pre><code class="language-markdown" data-lang="markdown">  yarn add graphql-yoga
  </code></pre></figure>

<ul>
  <li>nodemon -D (src/server.jsì— ìˆëŠ” ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” scriptë¥¼ ì‘ì„±í•˜ëŠ”ë° í•„ìš”í•©ë‹ˆë‹¤.)</li>
</ul>

<figure class="highlight"><pre><code class="language-markdown" data-lang="markdown">  yarn add nodemon -D
  </code></pre></figure>

<ul>
  <li>babel-cli -D</li>
</ul>

<figure class="highlight"><pre><code class="language-markdown" data-lang="markdown">  yarn add babel-cli -D
  </code></pre></figure>

<h3 id="3-serverjs-ìƒì„±">3. server.js ìƒì„±</h3>

<ul>
  <li>src í´ë” ë‚´ë¶€ì— server.js íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.</li>
</ul>

<h3 id="4-packagejson-ìˆ˜ì •">4. package.json ìˆ˜ì •</h3>

<ul>
  <li>main: index.js ì œê±°</li>
  <li>yarn devë¥¼ ì‹¤í–‰í•˜ë©´ nodemon â€“exec babel-node src/server.jsë¥¼ ì‹¤í–‰í•˜ê²Œ í•©ë‹ˆë‹¤</li>
</ul>

<figure class="highlight"><pre><code class="language-markdown" data-lang="markdown">  "scripts" : {
  "dev" : "nodemon --exec babel-node src/server.js"
  }
  </code></pre></figure>

<ul>
  <li>nodemonì„ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ babel-nodeë¡œ srcí´ë”ì˜ server.js íŒŒì¼ì„ ì‹¤í–‰í•˜ê²Œ ë©ë‹ˆë‹¤.</li>
  <li>nodemonì€ ì €ì¥í•  ë•Œë§ˆë‹¤ ì‹¤í–‰ì„ í•´ì£¼ëŠ” ë„êµ¬ì…ë‹ˆë‹¤. ì„œë²„ë¥¼ ê»ë‹¤ê°€ í‚¬ í•„ìš”ê°€ ì—†ì–´ì§€ê²Œ í•´ì£¼ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.</li>
  <li>babelì€ ì½”ë“œë¥¼ í˜¸í™˜ì„± ìˆê²Œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.</li>
  <li>.babelrc íŒŒì¼ì„ ë§Œë“ ë’¤ nodeê°€ importë¥¼ ì¸ì‹í•  ìˆ˜ ìˆë„ë¡ ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.</li>
</ul>

<figure class="highlight"><pre><code class="language-markdown" data-lang="markdown">  {
  "presets": ["@babel/preset-env"]
  }
  </code></pre></figure>

<ul>
  <li>@babel/nodeì™€ @babel/preset-env, @babel/coreë¥¼ ì„¤ì¹˜í•˜ì—¬ babelì„ ì„¸íŒ…í•©ë‹ˆë‹¤.</li>
</ul>

<h3 id="5-í™˜ê²½ë³€ìˆ˜-ì„¤ì •í•˜ê¸°">5. í™˜ê²½ë³€ìˆ˜ ì„¤ì •í•˜ê¸°</h3>

<p>ë¡œì»¬ì„œë²„ë¥¼ ì‚¬ìš©í•˜ê¸°ìœ„í•œ PORTì™€ ê°™ì€ í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •í•´ì£¼ëŠ” ì‘ì—…ì„ í•´ì•¼í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ í™˜ê²½ë³€ìˆ˜ë“¤ì€ ë”°ë¡œ .envíŒŒì¼ì„ í†µí•´ ê´€ë¦¬í•©ë‹ˆë‹¤.</p>

<ul>
  <li>.envíŒŒì¼ì„ src í´ë”ì— ë§Œë“  ë’¤ ì„¤ì •í•  í¬íŠ¸ PORT = 4000ì„ ì„ ì–¸í•©ë‹ˆë‹¤. ëª¨ë“  í™˜ê²½ë³€ìˆ˜ë“¤ì€ .envì— ì„ ì–¸í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.</li>
</ul>

<figure class="highlight"><pre><code class="language-markdown" data-lang="markdown">  PORT = 4000
  </code></pre></figure>

<ul>
  <li>server.jsì—ì„œ PORT ë³€ìˆ˜ë¥¼ ë§Œë“­ë‹ˆë‹¤.</li>
</ul>

<figure class="highlight"><pre><code class="language-markdown" data-lang="markdown">  require("dotenv").config()

const PORT = process.env.PORT || 4000;</code></pre></figure>

<p>ì´ë•Œ, .config()ì—ì„œ ì•„ë¬´ê²ƒë„ ì…ë ¥í•˜ì§€ ì•Šì€ ê²½ìš°ì—ëŠ” .env íŒŒì¼ë¡œ ì¸ì‹í•˜ì—¬ ì‹¤ì œ .envíŒŒì¼ì—ëŠ” ì•„ë¬´ë‚´ìš©ë„ ì…ë ¥í•˜ì§€ ì•ŠëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p>

<h3 id="6-typedefs-resolvers-ë§Œë“¤ê¸°">6. typeDefs, Resolvers ë§Œë“¤ê¸°</h3>

<p>ì„œë²„ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” queryë¥¼ ìƒì„±í•´ì•¼í•˜ëŠ”ë°, queryë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ì„œëŠ” typeDefsê³¼ Resolversê°€ í•„ìš”í•©ë‹ˆë‹¤.
ê·¸ Typeê³¼ Resolversë¥¼ Server.jsì•ˆì— ìš°ì„  ë§Œë“¤ì–´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-markdown" data-lang="markdown">//typeDefs
const typeDefs = <span class="sb">`type Query{ hello : String! }`</span>
//resolvers
const resolvers = {
Query : {
hello : () =&gt; "hello"
}
}
const server = new GraphQLServer({typeDefs,resolvers});
server.start({port : PORT}, () =&gt; console.log(<span class="sb">`server is running http://localhost:${PORT}`</span>));</code></pre></figure>

<h3 id="7-ë§ˆë¬´ë¦¬">7. ë§ˆë¬´ë¦¬</h3>

<p>yarn devë¥¼ í•˜ë©´ server is running http://localhost:4000 ë¼ëŠ” ë©”ì‹œì§€ê°€ ëœ¨ë©° ì„œë²„ê°€ ë™ì‘í•©ë‹ˆë‹¤.</p>

<h2 id="ì´ìŠˆ">ì´ìŠˆ</h2>

<p>Requires Babel â€œ^7.0.0-0â€, but was loaded with â€œ6.26.3â€.</p>

<p>If you are sure you have a compatible version of @babel/core, it is likely that something in your build process is loading the wrong version.</p>

<p>ì—ëŸ¬ ë°œìƒ. -&gt; yarn global remove babel-clië¡œ í•´ê²°</p>
:ET