I"ã<p><em>ëª¨ë“  ë‚´ìš©ì€ MacOS Catalina ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤</em></p>

<h2 id="1-graphql-íŒŒì¼-ìƒì„±í•˜ê¸°">1. graphql íŒŒì¼ ìƒì„±í•˜ê¸°</h2>

<p>prismaì™€ graphqlì˜ ì—°ë™ì„ ìœ„í•´ì„œëŠ” graphql íŒŒì¼ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>

<p>apií´ë”ì— models.graphql íŒŒì¼ì„ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.</p>

<p>datamodel.prismaì— ìˆë˜ ë‚´ìš©ì„ ëª¨ë‘ ë³µì‚¬í•´ì„œ models.graphqlíŒŒì¼ì— ë„£ìŠµë‹ˆë‹¤.</p>

<p>ì´ë•Œ graphqlì—ì„œëŠ” @ë¥¼ ì¸ì‹í•˜ì§€ ëª»í•˜ê¸° ë•Œë¬¸ì— ê¼­ @id, @unique, @relationì„ ì‚­ì œí•´ì£¼ì…”ì•¼ í•©ë‹ˆë‹¤.</p>

<h2 id="2-ë°ì´í„°ëª¨ë¸-ë§Œë“¤ê¸°">2. ë°ì´í„°ëª¨ë¸ ë§Œë“¤ê¸°</h2>

<p>createAccount.graphqlì—ì„œ</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">"</span><span class="s2">deploy</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">yarn prisma deploy</span><span class="dl">"</span><span class="p">,</span>
<span class="dl">"</span><span class="s2">generate</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">yarn prisma generate</span><span class="dl">"</span><span class="p">,</span>
<span class="dl">"</span><span class="s2">do</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">yarn run deploy &amp;&amp; yarn run generate</span><span class="dl">"</span><span class="p">,</span>
<span class="dl">"</span><span class="s2">dev</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">nodemon --exec babel-node src/server.jsâ€
</span></code></pre></div></div>

<p>jsíŒŒì¼ì—</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">prisma</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../../../generated/prisma-client</span><span class="dl">'</span><span class="p">;</span>
<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
    <span class="na">Query</span> <span class="p">:</span> <span class="p">{</span>
        <span class="na">hello</span> <span class="p">:</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">await</span> <span class="nx">prisma</span><span class="p">.</span><span class="nx">users</span><span class="p">());</span>
            <span class="k">return</span> <span class="dl">"</span><span class="s2">hello</span><span class="dl">"</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="3-prismayml-ì‚´í´ë³´ê¸°">3. prisma.yml ì‚´í´ë³´ê¸°</h2>

<p>prisma.yml íŒŒì¼ì„ ë³´ë©´â€¦</p>

<div class="language-graphql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">endpoint:</span><span class="w"> </span><span class="err">https://us1.prisma.sh/blablabla....</span><span class="w">
</span><span class="err">datamodel:</span><span class="w"> </span><span class="err">datamodel.prisma</span><span class="w">

</span><span class="err">generate:</span><span class="w">
  </span><span class="err">-</span><span class="w"> </span><span class="err">generator:</span><span class="w"> </span><span class="err">javascript-client</span><span class="w">
    </span><span class="err">output:</span><span class="w"> </span><span class="err">./generated/prisma-client/</span><span class="w">
</span></code></pre></div></div>

<p>generated í´ë”ì— ìˆëŠ” index, prisma-schema íŒŒì¼ì„ í†µí•´ prismaì™€ ì •ë³´ë¥¼ ì£¼ê³ ë°›ìŠµë‹ˆë‹¤.</p>

<h2 id="ì´ìŠˆ">ì´ìŠˆ</h2>

<p>prisma.ymlíŒŒì¼ì€ gitì— ì»¤ë°‹í•˜ë©´ ì•ˆë©ë‹ˆë‹¤. ì—¬ê¸°ì— endpoint urlì´ ìˆëŠ”ë° endpointì—ì„œ ëª¨ë“  ë°ì´í„°ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— .gitignoreì— ì¶”ê°€í•©ë‹ˆë‹¤.</p>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Next.js build output
</span><span class="o">.</span><span class="nb">next</span>
<span class="n">generated</span>
<span class="n">prisma</span><span class="o">.</span><span class="n">yml</span>
</code></pre></div></div>

<p>ë§Œì•½ prismaì— ë¬¸ì œê°€ ìƒê¸´ë‹¤ë©´ ëª¨ë“  ì„œë¹„ìŠ¤ì™€ urlì„ ë³€ê²½í•´ì•¼ í•©ë‹ˆë‹¤.</p>

<p>ìŠ¤í¬ë¦½íŠ¸ì— do ëŒ€ì‹ ì— prismaë¡œ í•  ê²½ìš° ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰í•  ë•Œ ë¬´í•œë£¨í”„ê°€ ë°œìƒí•©ë‹ˆë‹¤.<br />
prisma ëª…ë ¹ì–´ê°€ ì½˜ì†”ì—ì„œ ì•ˆë¨¹ëŠ” ê²½ìš°ì— yarn prismaë¥¼ í•´ì„œ ìƒê¸°ëŠ”ë°,<br />
prisma ëŒ€ì‹ ì— doë‚˜ ë‹¤ë¥¸ ìŠ¤í¬ë¦½íŠ¸ë¡œ ëŒ€ì²´í•˜ë©´ ë©ë‹ˆë‹¤.</p>
:ET